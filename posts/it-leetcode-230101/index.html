<!DOCTYPE html><html lang="ko-KR" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="prefer-datetime-locale" content="ko"><meta name="generator" content="Jekyll v4.3.2" /><meta property="og:title" content="[LeetCode][py] 290. Word Pattern" /><meta name="author" content="dapin1490" /><meta property="og:locale" content="ko_KR" /><meta name="description" content="Trust me I’m a talking potato" /><meta property="og:description" content="Trust me I’m a talking potato" /><link rel="canonical" href="https://dapin1490.github.io/satinbower-legacy/posts/it-leetcode-230101/" /><meta property="og:url" content="https://dapin1490.github.io/satinbower-legacy/posts/it-leetcode-230101/" /><meta property="og:site_name" content="새틴바우어" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2023-01-01T17:29:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="[LeetCode][py] 290. Word Pattern" /><meta name="twitter:site" content="@dapin1490" /><meta name="twitter:creator" content="@dapin1490" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"dapin1490"},"dateModified":"2023-01-01T17:29:00+09:00","datePublished":"2023-01-01T17:29:00+09:00","description":"Trust me I’m a talking potato","headline":"[LeetCode][py] 290. Word Pattern","mainEntityOfPage":{"@type":"WebPage","@id":"https://dapin1490.github.io/satinbower-legacy/posts/it-leetcode-230101/"},"url":"https://dapin1490.github.io/satinbower-legacy/posts/it-leetcode-230101/"}</script><title>[LeetCode][py] 290. Word Pattern | 새틴바우어</title><link rel="apple-touch-icon" sizes="180x180" href="/satinbower-legacy/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/satinbower-legacy/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/satinbower-legacy/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/satinbower-legacy/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/satinbower-legacy/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="새틴바우어"><meta name="application-name" content="새틴바우어"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/satinbower-legacy/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/satinbower-legacy/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/satinbower-legacy/" class="mx-auto"> <img src="/satinbower-legacy/assets/img/profile_image.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/satinbower-legacy/">새틴바우어</a></div><div class="site-subtitle font-italic">dapin1490's hand-made study blog</div></div><ul class="w-100"><li class="nav-item"> <a href="/satinbower-legacy/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>홈</span> </a><li class="nav-item"> <a href="/satinbower-legacy/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>카테고리</span> </a><li class="nav-item"> <a href="/satinbower-legacy/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>태그</span> </a><li class="nav-item"> <a href="/satinbower-legacy/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>아카이브</span> </a><li class="nav-item"> <a href="/satinbower-legacy/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>정보</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/dapin1490" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/dapin1490" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['dapin1490','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/satinbower-legacy/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/satinbower-legacy/"> 홈 </a> </span> <span>[LeetCode][py] 290. Word Pattern</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> 포스트</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="검색..."> </span> <span id="search-cancel" >취소</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4 pb-5"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>[LeetCode][py] 290. Word Pattern</h1><div class="post-meta text-muted"> <span> 게시 <em class="" data-ts="1672561740" data-df="YYYY-MM-DD" data-toggle="tooltip" data-placement="bottom"> 2023-01-01 </em> </span><div class="d-flex justify-content-between"> <span> By <em> dapin1490 </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2308 단어"> <em>12 분</em>읽는 시간</span></div></div></div><div class="post-content"><style> .x-understand { color: #ccb833; } .understand { color: #1380da; } .tab { white-space: pre; } .underline { text-decoration: underline; } .cancle { text-decoration: line-through; } .green { color: forestgreen;} figure { text-align: center; }</style><h2 id="table-of-contents"><span class="mr-2">Table of Contents</span><a href="#table-of-contents" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li><a href="#문제">문제</a><li><a href="#예제">예제</a><ul><li><a href="#example-1">Example 1</a><li><a href="#example-2">Example 2</a><li><a href="#example-3">Example 3</a></ul><li><a href="#계획">계획</a><li><a href="#풀이">풀이</a><ul><li><a href="#1-키와-값을-반대로-저장한-두-딕셔너리">1. 키와 값을 반대로 저장한 두 딕셔너리</a><li><a href="#2-최소-런타임-샘플-답안">2. 최소 런타임 샘플 답안</a></ul><li><a href="#참고-자료">참고 자료</a></ul><h1 id="문제">문제</h1><p>원문 보기 : <a href="https://leetcode.com/problems/word-pattern/">[LeetCode] 290. Word Pattern</a></p><p><code class="language-plaintext highlighter-rouge">pattern</code>과 문자열 <code class="language-plaintext highlighter-rouge">s</code>가 주어진다. <code class="language-plaintext highlighter-rouge">s</code>가 같은 패턴을 따르는지 확인하라.</p><p><strong>따른다</strong>는 말은 <code class="language-plaintext highlighter-rouge">pattern</code>의 글자와 <code class="language-plaintext highlighter-rouge">s</code>에 존재하는 <strong>비어있지 않은</strong> 단어가 일대일 대응이 되는 것과 같은, 완전한 매치를 의미한다.</p><p><strong>조건(Constraints)</strong>:</p><ul><li><code class="language-plaintext highlighter-rouge">1 &lt;= pattern.length &lt;= 300</code><li><code class="language-plaintext highlighter-rouge">pattern</code>에는 영어 소문자만 있다.<li><code class="language-plaintext highlighter-rouge">1 &lt;= s.length &lt;= 3000</code><li><code class="language-plaintext highlighter-rouge">s</code>에는 영어 소문자와 공백(<code class="language-plaintext highlighter-rouge">' '</code>)만 있다.<li><code class="language-plaintext highlighter-rouge">s</code>의 앞뒤에 남는 공백은 없다.<li><code class="language-plaintext highlighter-rouge">s</code>에 있는 모든 단어는 하나의 공백으로 구분된다.</ul><h1 id="예제">예제</h1><h2 id="example-1"><span class="mr-2">Example 1</span><a href="#example-1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p><strong>Input</strong>: pattern = “abba”, s = “dog cat cat dog”<br /> <strong>Output</strong>: true</p><h2 id="example-2"><span class="mr-2">Example 2</span><a href="#example-2" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p><strong>Input</strong>: pattern = “abba”, s = “dog cat cat fish”<br /> <strong>Output</strong>: false</p><h2 id="example-3"><span class="mr-2">Example 3</span><a href="#example-3" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p><strong>Input</strong>: pattern = “aaaa”, s = “dog cat cat dog”<br /> <strong>Output</strong>: false</p><h1 id="계획">계획</h1><ol><li>상황 파악<br /> 패턴에 있는 글자와 문자열에 있는 단어가 딱 맞으면 된다. 글자마다 연결 리스트처럼 집합을 달아서 문자열에 있는 모든 단어를 나누어 넣고, 마지막에 단어가 하나씩만 남아있는지 확인하면 되지 않을까? 파싱은 귀찮으니 파이썬을 써서 해보겠다. 물론 당연히 입력이 커지면 시간초과가 걸릴 것 같지만 일단 틀려보고 생각하기로 했다.<li>첫 번째 시도<br /> 문자와 리스트를 각각 키와 값으로 갖는 딕셔너리를 만들고자 했으나, 딕셔너리에 키가 없는 경우 키를 추가하는 것이 먼저이기 때문에 단순히 <code class="language-plaintext highlighter-rouge">append</code>만 쓸 수는 없었다.<br /> 여기서 몇 가지 선택지가 있다. 각 선택지 모두 마지막에는 각 알파벳마다 1개의 단어만 남는지 확인하면 된다. 하나라도 그렇지 않은 것이 있다면 <code class="language-plaintext highlighter-rouge">False</code>를 반환한다.<ol><li>딕셔너리를 유지하고, 키가 있는지 확인하는 선택문을 추가해 오류를 발생시키지 않는 것.<li>패턴에 있는 알파벳의 종류 수만큼 이차원 리스트를 만들어 각 알파벳을 인덱스 삼아 단어를 리스트에 추가 후 <code class="language-plaintext highlighter-rouge">set()</code> 적용해 확인<li>패턴에 있는 알파벳을 이용해 먼저 알파벳 키와 빈 집합을 값으로 갖는 딕셔너리를 만들고 단어를 추가</ol><li>두 번째 시도<br /> 2번에서 3번째 선택지로 간다. 어차피 집합으로 만들면 다른 값이 추가될 때 크기가 2로 늘어나니까 단어를 추가하는 과정에서 개수도 같이 검사하고 False를 반환하게 했다.<li>예상치 못한 반례에서 틀림<br /> 패턴은 서로 다른 알파벳이 2개 이상 나왔는데, 단어는 딱 한 종류만 나오는 경우 <code class="language-plaintext highlighter-rouge">True</code>를 반환해서 틀린다. 서로 다른 패턴의 단어가 서로 다른지 확인하지 않았다. 다시 생각을 해보자.<ol><li>이미 쓴 방식을 유지하고, 마지막에 확인 과정을 추가한다. <code class="language-plaintext highlighter-rouge">&lt;br&gt;</code> 틀린 건 아닌데 내가 보기엔 비효율적이다. 이런 상황에 더 어울리는 구조가 있는 게 맞지 않을까?<li>딕셔너리의 구성을 바꿔서 패턴 알파벳 하나당 단어 하나씩 매치시키고, 중복된 단어나 알파벳이 나오면 일치하는지 확인한다. 앞서 걸린 반례를 통과하기 위해 키와 값이 서로 반대인 딕셔너리로 총 2개 만들자.</ol><li>패턴의 알파벳 수와 단어의 개수가 같다는 조건은 없었지. 또 틀림<br /> 이건 간단하게 걸러낼 수 있어. 모든 과정을 시작하기 전 패턴의 길이와 단어의 총 수가 같은지 확인하면 돼.<li>이게 되네? 게다가 꽤나 상위 런타임과 메모리로 들어갔다. 런타임이 가장 짧은 답안만 참고해보고, C++로 쓸 때는 어떻게 쓰면 좋을지 생각이나 해보자.<br /> 일단 내 답은 제쳐두고 최소 런타임 샘플 답안 봤는데, 딕셔너리 이름을 <code class="language-plaintext highlighter-rouge">map</code>이라고 지었더라. 그거 보니까 약간 감은 왔어. 다른 언어로 쓸 때도 <code class="language-plaintext highlighter-rouge">map</code>을 쓰면 되는거지? 순서가 중요한 상황이 아니니까 <code class="language-plaintext highlighter-rouge">unordered_map</code> 쓰면 더 빠르겠다. 그리고 나랑 비슷하게 딕셔너리를 2개 썼는데, 하나는 패턴 알파벳과 단어를 매치했고 다른 하나는 단어의 등장 여부만 체크해둔 것 같더라. 자세한 건 밑에서 더 보자고요.</ol><h1 id="풀이">풀이</h1><h2 id="1-키와-값을-반대로-저장한-두-딕셔너리"><span class="mr-2">1. 키와 값을 반대로 저장한 두 딕셔너리</span><a href="#1-키와-값을-반대로-저장한-두-딕셔너리" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Runtime : 14 ms<br /> Memory : 13.3 MB</p><p><strong>리뷰</strong></p><ol><li>파이썬의 딕셔너리는 해시로 구현되어 있다 <sup><a href="#ref-01" id="body-ref-01" title="파이썬의 딕셔너리는 어떻게 구현되어 있을까? -해시-">[1]</a></sup>. 새로 배웠다! 파이썬이라 느릴 줄 알았는데 의외로 빨랐던 이유가 딕셔너리의 구현이 해시라서 그런 것 같다.<li>계획을 먼저 하는 습관을 좀 더 들입시다 학생. 오늘도 냅다 코드부터 쓰다가 반례 보고 고쳤잖아. 이거 쓰면 되겠지? 하고 바로 달려들지 말고 좀 더 자세히 생각해보란 말이지.<li>부족한 점 : 서로 반대되는 두 딕셔너리를 한번에 확인할 수 있는 방법이 생각나지 않았다, 라기 보다는 일단 문제가 풀리는 데에 만족해서 거기까지 가지 않고 생각을 놓아버렸다. 대신 보고 배웠습니다.</ol><div class="language-py highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Solution</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">wordPattern</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">pattern</span><span class="p">,</span> <span class="n">s</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">
        :type pattern: str
        :type s: str
        :rtype: bool
        </span><span class="sh">"""</span>
        <span class="n">words</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="nf">split</span><span class="p">(</span><span class="sh">'</span><span class="s"> </span><span class="sh">'</span><span class="p">)</span>  <span class="c1"># 단어 파싱
</span>
        <span class="k">if</span> <span class="nf">len</span><span class="p">(</span><span class="n">pattern</span><span class="p">)</span> <span class="o">!=</span> <span class="nf">len</span><span class="p">(</span><span class="n">words</span><span class="p">):</span>  <span class="c1"># 단어 개수와 패턴 길이 다르면 안 됨
</span>            <span class="k">return</span> <span class="bp">False</span>

        <span class="n">matchs</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># 패턴 사전 : 키 - 패턴, 값 - 단어
</span>        <span class="n">match_reverse</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># 단어 사전 : 키 - 단어, 값 - 패턴
</span>
        <span class="k">for</span> <span class="n">c</span><span class="p">,</span> <span class="n">word</span> <span class="ow">in</span> <span class="nf">zip</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">words</span><span class="p">):</span>  <span class="c1"># 대응되는 패턴과 단어의 쌍 반복
</span>            <span class="k">if</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">matchs</span><span class="p">:</span>  <span class="c1"># 패턴 사전에 패턴이 존재하는데
</span>                <span class="k">if</span> <span class="n">matchs</span><span class="p">[</span><span class="n">c</span><span class="p">]</span> <span class="o">!=</span> <span class="n">word</span><span class="p">:</span>  <span class="c1"># 단어가 다르면 안 됨
</span>                    <span class="k">return</span> <span class="bp">False</span>
            <span class="k">else</span><span class="p">:</span>  <span class="c1"># 없다면 추가
</span>                <span class="n">matchs</span><span class="p">[</span><span class="n">c</span><span class="p">]</span> <span class="o">=</span> <span class="n">word</span>

            <span class="k">if</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">match_reverse</span><span class="p">:</span>  <span class="c1"># 단어 사전에 단어가 존재하는데
</span>                <span class="k">if</span> <span class="n">match_reverse</span><span class="p">[</span><span class="n">word</span><span class="p">]</span> <span class="o">!=</span> <span class="n">c</span><span class="p">:</span>  <span class="c1"># 패턴이 다르면 안 됨
</span>                    <span class="k">return</span> <span class="bp">False</span>
            <span class="k">else</span><span class="p">:</span>  <span class="c1"># 없다면 추가
</span>                <span class="n">match_reverse</span><span class="p">[</span><span class="n">word</span><span class="p">]</span> <span class="o">=</span> <span class="n">c</span>

        <span class="k">return</span> <span class="bp">True</span>  <span class="c1"># 다 통과하면 됨
</span></pre></table></code></div></div><h2 id="2-최소-런타임-샘플-답안"><span class="mr-2">2. 최소 런타임 샘플 답안</span><a href="#2-최소-런타임-샘플-답안" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Runtime : 3 ms</p><p><strong>풀이</strong></p><ol><li>단어의 수와 패턴의 길이가 같은지 확인하고, 다르면 <code class="language-plaintext highlighter-rouge">False</code> 반환.<li>2개의 딕셔너리를 만든다. 하나는 (키, 값)으로 (패턴, 단어)를 저장하고, 다른 하나는 (단어, <code class="language-plaintext highlighter-rouge">True</code>)를 저장한다.<br /> 이때 두 번째 딕셔너리는 단어의 등장 여부만을 확인하기 위함이니 값은 꼭 <code class="language-plaintext highlighter-rouge">True</code>가 아니어도 된다.<li>이후 패턴의 길이만큼 반복한다.<li>현재 패턴이 아직 등장하지 않은 새 패턴일 경우<ul><li>이 패턴에 대응하는 단어가 이미 등장한 단어라면 <code class="language-plaintext highlighter-rouge">False</code> 반환.<li>단어도 등장하지 않은 것이라면 두 사전에 각각 추가한다.</ul><li>이미 등장한 패턴인데 대응되는 단어가 다른 경우 : <code class="language-plaintext highlighter-rouge">False</code> 반환.<li>반복이 끝나면 <code class="language-plaintext highlighter-rouge">True</code> 반환.</ol><p><strong>내 답안과 비교</strong></p><ul><li>2개의 딕셔너리를 사용함<ol><li>서로 반대되는 키와 값을 저장해 패턴과 단어의 대응을 2번 확인 : 패턴은 다른데 대응되는 단어가 같은 반례를 거르기 위함이었으나, 2개의 딕셔너리를 각각 확인해야 한다.<li>패턴과 단어의 조합은 한번씩만 저장하고, 단어의 등장 여부를 추가로 저장 : 등장하지 않은 새 패턴을 확인할 때는 두 딕셔너리를 이용해 확인하지만 이미 등장한 패턴을 확인할 때는 하나만 확인해도 되며, 이 과정이 한 블록의 선택문 안에서 해결 가능하다.</ol></ul><div class="language-py highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Solution</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">wordPattern</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">pattern</span><span class="p">,</span> <span class="n">s</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">
        :type pattern: str
        :type s: str
        :rtype: bool
        </span><span class="sh">"""</span>
        <span class="n">words</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="nf">split</span><span class="p">()</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nf">len</span><span class="p">(</span><span class="n">pattern</span><span class="p">)</span>
        <span class="k">if</span> <span class="nf">len</span><span class="p">(</span><span class="n">words</span><span class="p">)</span> <span class="o">!=</span> <span class="n">n</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">False</span>
        <span class="nb">map</span> <span class="o">=</span> <span class="nf">dict</span><span class="p">()</span>
        <span class="n">map2</span> <span class="o">=</span> <span class="nf">dict</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">map</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="n">pattern</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">map2</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="n">words</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
                    <span class="k">return</span> <span class="bp">False</span>
                <span class="nb">map</span><span class="p">[</span><span class="n">pattern</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span> <span class="o">=</span> <span class="n">words</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                <span class="n">map2</span><span class="p">[</span><span class="n">words</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span> <span class="o">=</span> <span class="bp">True</span>
            <span class="k">elif</span> <span class="nb">map</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="n">pattern</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">!=</span> <span class="n">words</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                <span class="k">return</span> <span class="bp">False</span>

        <span class="k">return</span> <span class="bp">True</span> 
</pre></table></code></div></div><h1 id="참고-자료">참고 자료</h1><ul><li><a href="#body-ref-01" id="ref-01">[1]</a> 파이썬의 딕셔너리는 어떻게 구현되어 있을까? -해시-, <a href="https://fierycoding.tistory.com/68" target="_blank">https://fierycoding.tistory.com/68</a></ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/satinbower-legacy/categories/it/'>IT</a>, <a href='/satinbower-legacy/categories/%EB%AC%B8%EC%A0%9C%ED%92%80%EC%9D%B4/'>문제풀이</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/satinbower-legacy/tags/%EC%A7%80%EC%8B%9D/" class="post-tag no-text-decoration" >지식</a> <a href="/satinbower-legacy/tags/it/" class="post-tag no-text-decoration" >IT</a> <a href="/satinbower-legacy/tags/leetcode/" class="post-tag no-text-decoration" >LeetCode</a> <a href="/satinbower-legacy/tags/%EB%A6%BF%EC%BD%94%EB%93%9C/" class="post-tag no-text-decoration" >릿코드</a> <a href="/satinbower-legacy/tags/%EB%AC%B8%EC%A0%9C%ED%92%80%EC%9D%B4/" class="post-tag no-text-decoration" >문제풀이</a> <a href="/satinbower-legacy/tags/hash-table/" class="post-tag no-text-decoration" >Hash Table</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> 이 기사는 저작권자의 <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/deed.ko"> CC BY-NC-ND 4.0 </a> 라이센스를 따릅니다.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">공유하기</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=%5BLeetCode%5D%5Bpy%5D+290.+Word+Pattern+-+%EC%83%88%ED%8B%B4%EB%B0%94%EC%9A%B0%EC%96%B4&url=https%3A%2F%2Fdapin1490.github.io%2Fsatinbower-legacy%2Fposts%2Fit-leetcode-230101%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="링크 복사하기" data-title-succeed="링크가 복사되었습니다!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">최근 업데이트</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/satinbower-legacy/posts/backend-internet-230704/">[Backend] 인터넷이 뭔데</a><li><a href="/satinbower-legacy/posts/it-boj-1254/">[python] 백준 1254 팰린드롬 만들기</a><li><a href="/satinbower-legacy/posts/py-exe-release/">[python] GUI 프로그램 exe 만들고 배포하기, 소멸자와 로깅</a><li><a href="/satinbower-legacy/posts/daily-230617/">23년 1학기 14주 수업</a><li><a href="/satinbower-legacy/posts/chatgpt-230103/">Unity vs Unreal Engine</a></ul></div><div id="access-tags"><div class="panel-heading">인기 태그</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/satinbower-legacy/tags/%EC%A7%80%EC%8B%9D/">지식</a> <a class="post-tag" href="/satinbower-legacy/tags/it/">IT</a> <a class="post-tag" href="/satinbower-legacy/tags/%EB%82%B4%EA%B0%80-%ED%95%B4%EB%83%84/">내가 해냄</a> <a class="post-tag" href="/satinbower-legacy/tags/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0/">자료구조</a> <a class="post-tag" href="/satinbower-legacy/tags/%EB%AC%B8%EC%A0%9C%ED%92%80%EC%9D%B4/">문제풀이</a> <a class="post-tag" href="/satinbower-legacy/tags/%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98/">알고리즘</a> <a class="post-tag" href="/satinbower-legacy/tags/%EA%B3%BC%EC%A0%9C/">과제</a> <a class="post-tag" href="/satinbower-legacy/tags/%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8/">프로젝트</a> <a class="post-tag" href="/satinbower-legacy/tags/leetcode/">LeetCode</a> <a class="post-tag" href="/satinbower-legacy/tags/%EB%94%A5%EB%9F%AC%EB%8B%9D/">딥러닝</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">바로가기</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4"><div id="related-posts" class="mb-2 mb-sm-4"><h3 class="pt-2 mb-4 ml-1" data-toc-skip>관련된 글</h3><div class="card-deck mb-4"><div class="card"> <a href="/satinbower-legacy/posts/it-leetcode-221230/"><div class="card-body"> <em class="small" data-ts="1672395300" data-df="YYYY-MM-DD" > 2022-12-30 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[LeetCode][c++] 1. Two Sum</h3><div class="text-muted small"><p> Table of Contents 문제 예제 Example 1 Example 2 Example 3 계획 풀이 1. 투 포인터 2. unodered_map 문제 원문 보기 : [LeetCode] 1. Two Sum 정수 배열 num...</p></div></div></a></div><div class="card"> <a href="/satinbower-legacy/posts/it-leetcode-230103/"><div class="card-body"> <em class="small" data-ts="1672752780" data-df="YYYY-MM-DD" > 2023-01-03 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[LeetCode][c++, py] 944. Delete Columns to Make Sorted</h3><div class="text-muted small"><p> Table of Contents 문제 예제 계획 풀이 1. 이중 반복문 C++ (1) python (1) 2. 최소 런타임 샘플 답안 C++ (2) python (2) ...</p></div></div></a></div><div class="card"> <a href="/satinbower-legacy/posts/it-leetcode-230112/"><div class="card-body"> <em class="small" data-ts="1673510100" data-df="YYYY-MM-DD" > 2023-01-12 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[LeetCode][py] 1519. Number of Nodes in the Sub-Tree With the Same Label</h3><div class="text-muted small"><p> Table of Contents 문제 예제 계획 풀이 문제 원문 보기 : [LeetCode] 1519. Number of Nodes in the Sub-Tree With the Same Label 0부터 n-1까지 번호가 매겨진 n개의 노드와 정확히 n-1개의 간선(edges)을 갖는 트리(연결되어 있고 무방향이지만 사이클이 ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/satinbower-legacy/posts/it-leetcode-221230/" class="btn btn-outline-primary" prompt="이전 글"><p>[LeetCode][c++] 1. Two Sum</p></a> <a href="/satinbower-legacy/posts/chatgpt-230102/" class="btn btn-outline-primary" prompt="다음 글"><p>Native app, Hybrid app, etc</p></a></div></div></div><footer class="row pl-3 pr-3"><div class="col-12 d-flex justify-content-between align-items-center text-muted pl-0 pr-0"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://github.com/dapin1490">dapin1490</a>. <span data-toggle="tooltip" data-placement="top" title="명시되지 않는 한 이 사이트의 블로그 게시물은 작성자의 Creative Commons Attribution 4.0 International(CC BY-NC-ND 4.0) 라이선스에 따라 사용이 허가되었습니다.">일부 권리 보유</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">인기 태그</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/satinbower-legacy/tags/%EC%A7%80%EC%8B%9D/">지식</a> <a class="post-tag" href="/satinbower-legacy/tags/it/">IT</a> <a class="post-tag" href="/satinbower-legacy/tags/%EB%82%B4%EA%B0%80-%ED%95%B4%EB%83%84/">내가 해냄</a> <a class="post-tag" href="/satinbower-legacy/tags/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0/">자료구조</a> <a class="post-tag" href="/satinbower-legacy/tags/%EB%AC%B8%EC%A0%9C%ED%92%80%EC%9D%B4/">문제풀이</a> <a class="post-tag" href="/satinbower-legacy/tags/%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98/">알고리즘</a> <a class="post-tag" href="/satinbower-legacy/tags/%EA%B3%BC%EC%A0%9C/">과제</a> <a class="post-tag" href="/satinbower-legacy/tags/%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8/">프로젝트</a> <a class="post-tag" href="/satinbower-legacy/tags/leetcode/">LeetCode</a> <a class="post-tag" href="/satinbower-legacy/tags/%EB%94%A5%EB%9F%AC%EB%8B%9D/">딥러닝</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-animation="true" data-autohide="false"><div class="toast-header"> <button type="button" class="ml-2 ml-auto close" data-dismiss="toast" aria-label="Close"> <span aria-hidden="true">&times;</span> </button></div><div class="toast-body text-center pt-0"><p class="pl-2 pr-2 mb-3">새 버전의 콘텐츠를 사용할 수 있습니다.</p><button type="button" class="btn btn-primary" aria-label="Update"> 업데이트 </button></div></div><script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/satinbower-legacy/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">검색 결과가 없습니다.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/ko.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/satinbower-legacy/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/satinbower-legacy/app.js"></script>
